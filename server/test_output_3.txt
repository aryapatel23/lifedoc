
> server@1.0.0 test
> jest --runInBand --detectOpenHandles server/test/labReport.integration.test.js

  console.log
    [dotenv@17.2.3] injecting env (12) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

FAIL test/labReport.integration.test.js
  Lab Report Analysis API
    Ã— should analyze a lab report and save it (214 ms)
    Ã— should return 400 if no image provided (133 ms)

  â— Lab Report Analysis API â€º should analyze a lab report and save it

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 401

    [0m [90m 112 |[39m             [33m.[39msend({ image[33m:[39m dummyImage })[33m;[39m
     [90m 113 |[39m
    [31m[1m>[22m[39m[90m 114 |[39m         expect(res[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 115 |[39m         expect(res[33m.[39mbody[33m.[39mmessage)[33m.[39mtoBe([32m"Lab report analyzed successfully"[39m)[33m;[39m
     [90m 116 |[39m         expect(res[33m.[39mbody[33m.[39mdata)[33m.[39mtoHaveProperty([32m'parsedResults'[39m)[33m;[39m
     [90m 117 |[39m         expect(res[33m.[39mbody[33m.[39mdata[33m.[39mparsedResults[33m.[39mlabReport[33m.[39mlabName)[33m.[39mtoBe([32m"Test Lab"[39m)[33m;[39m[0m

      at Object.toBe (test/labReport.integration.test.js:114:28)

  â— Lab Report Analysis API â€º should return 400 if no image provided

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 401

    [0m [90m 129 |[39m             [33m.[39msend({})[33m;[39m
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m         expect(res[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 132 |[39m     })[33m;[39m
     [90m 133 |[39m })[33m;[39m
     [90m 134 |[39m[0m

      at Object.toBe (test/labReport.integration.test.js:131:28)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 2 total
Snapshots:   0 total
Time:        2.382 s, estimated 3 s
Ran all test suites matching /server\\test\\labReport.integration.test.js/i.
